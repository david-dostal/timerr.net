{"version":3,"sources":["../../scripts/gui/stopwatch-gui.js"],"names":["stopwatchElement","startButtonElement","resetButtonElement","shareButtonElement","lapTableElement","lapIndex","stopwatch","Stopwatch","timerTick","document","addEventListener","event","getElementById","onclick","startClick","resetClick","elapsed","timeStr","formatTime","updateUi","getState","TimerState","STOPPED","start","innerText","PAUSED","resume","RUNNING","pause","lap","total","addLap","reset","innerHTML","tableCell","text","cell","createElement","lapFormatted","totalFormatted","row","appendChild","toString"],"mappings":";;AAAA,IAAIA,yBAAJ;AACA,IAAIC,2BAAJ;AACA,IAAIC,2BAAJ;AACA,IAAIC,2BAAJ;AACA,IAAIC,wBAAJ;AACA,IAAIC,WAAW,CAAf;;AAEA,IAAIC,YAAY,IAAIC,SAAJ,CAAc,GAAd,EAAmBC,SAAnB,CAAhB;;AAEAC,SAASC,gBAAT,CAA0B,kBAA1B,EAA8C,UAAUC,KAAV,EAAiB;AAC3DX,uBAAmBS,SAASG,cAAT,CAAwB,YAAxB,CAAnB;AACAX,yBAAqBQ,SAASG,cAAT,CAAwB,cAAxB,CAArB;AACAV,yBAAqBO,SAASG,cAAT,CAAwB,cAAxB,CAArB;AACAR,sBAAkBK,SAASG,cAAT,CAAwB,WAAxB,CAAlB;AACAT,yBAAqBM,SAASG,cAAT,CAAwB,oBAAxB,CAArB;AACAX,uBAAmBY,OAAnB,GAA6BC,UAA7B;AACAZ,uBAAmBW,OAAnB,GAA6BE,UAA7B;AACH,CARD;;AAUA,SAASP,SAAT,CAAmBQ,OAAnB,EAA4B;AACxB,QAAIC,UAAUC,WAAWF,OAAX,CAAd;AACAG,aAASF,OAAT;AACH;;AAED,SAASH,UAAT,GAAsB;AAClB,YAAQR,UAAUc,QAAV,EAAR;AACI,aAAKC,WAAWC,OAAhB;AACIhB,sBAAUiB,KAAV;AACAtB,+BAAmBuB,SAAnB,GAA+B,OAA/B;AACAtB,+BAAmBsB,SAAnB,GAA+B,KAA/B;AACA;AACJ,aAAKH,WAAWI,MAAhB;AACInB,sBAAUoB,MAAV;AACAzB,+BAAmBuB,SAAnB,GAA+B,OAA/B;AACAtB,+BAAmBsB,SAAnB,GAA+B,KAA/B;AACA;AACJ,aAAKH,WAAWM,OAAhB;AACIrB,sBAAUsB,KAAV;AACA3B,+BAAmBuB,SAAnB,GAA+B,QAA/B;AACAtB,+BAAmBsB,SAAnB,GAA+B,OAA/B;AACA;AAfR;AAiBH;;AAED,SAAST,UAAT,GAAsB;AAClB,QAAIT,UAAUc,QAAV,OAAyBC,WAAWM,OAAxC,EAAiD;AAAA,6BAC1BrB,UAAUuB,GAAV,EAD0B;AAAA,YACxCC,KADwC,kBACxCA,KADwC;AAAA,YACjCD,GADiC,kBACjCA,GADiC;;AAE7CE,eAAOD,KAAP,EAAcD,GAAd;AACH,KAHD,MAGO;AACHvB,kBAAU0B,KAAV;AACAb,iBAAS,WAAT;AACAlB,2BAAmBuB,SAAnB,GAA+B,OAA/B;AACAnB,mBAAW,CAAX;AACAD,wBAAgB6B,SAAhB,GAA4B,EAA5B;AACH;AACJ;;AAED,SAASC,SAAT,CAAmBC,IAAnB,EAAyB;AACrB,QAAIC,OAAO3B,SAAS4B,aAAT,CAAuB,IAAvB,CAAX;AACAD,SAAKZ,SAAL,GAAiBW,IAAjB;AACA,WAAOC,IAAP;AACH;;AAED,SAASL,MAAT,CAAgBD,KAAhB,EAAuBD,GAAvB,EAA4B;AACxB,QAAIS,eAAepB,WAAWW,GAAX,CAAnB;AACA,QAAIU,iBAAiBrB,WAAWY,KAAX,CAArB;;AAEA,QAAIU,MAAM/B,SAAS4B,aAAT,CAAuB,IAAvB,CAAV;AACAG,QAAIC,WAAJ,CAAgBP,UAAU7B,SAASqC,QAAT,EAAV,CAAhB;AACAF,QAAIC,WAAJ,CAAgBP,UAAUI,YAAV,CAAhB;AACAE,QAAIC,WAAJ,CAAgBP,UAAUK,cAAV,CAAhB;AACAnC,oBAAgBqC,WAAhB,CAA4BD,GAA5B;;AAEAnC,gBAAY,CAAZ;AACH;;AAED,SAASc,QAAT,CAAkBgB,IAAlB,EAAwB;AACpBnC,qBAAiBwB,SAAjB,GAA6BW,IAA7B;AACH","file":"stopwatch-gui.js","sourcesContent":["let stopwatchElement;\r\nlet startButtonElement;\r\nlet resetButtonElement;\r\nlet shareButtonElement;\r\nlet lapTableElement;\r\nlet lapIndex = 1;\r\n\r\nlet stopwatch = new Stopwatch(100, timerTick);\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function (event) {\r\n    stopwatchElement = document.getElementById('timer-time');\r\n    startButtonElement = document.getElementById('button-start');\r\n    resetButtonElement = document.getElementById('button-reset');\r\n    lapTableElement = document.getElementById('lap-table');\r\n    shareButtonElement = document.getElementById('button-share-times');\r\n    startButtonElement.onclick = startClick;\r\n    resetButtonElement.onclick = resetClick;\r\n});\r\n\r\nfunction timerTick(elapsed) {\r\n    let timeStr = formatTime(elapsed);\r\n    updateUi(timeStr);\r\n}\r\n\r\nfunction startClick() {\r\n    switch (stopwatch.getState()) {\r\n        case TimerState.STOPPED:\r\n            stopwatch.start();\r\n            startButtonElement.innerText = 'Pause';\r\n            resetButtonElement.innerText = 'Lap';\r\n            break;\r\n        case TimerState.PAUSED:\r\n            stopwatch.resume();\r\n            startButtonElement.innerText = 'Pause';\r\n            resetButtonElement.innerText = 'Lap';\r\n            break;\r\n        case TimerState.RUNNING:\r\n            stopwatch.pause();\r\n            startButtonElement.innerText = 'Resume';\r\n            resetButtonElement.innerText = 'Reset';\r\n            break;\r\n    }\r\n}\r\n\r\nfunction resetClick() {\r\n    if (stopwatch.getState() === TimerState.RUNNING) {\r\n        let {total, lap} = stopwatch.lap();\r\n        addLap(total, lap);\r\n    } else {\r\n        stopwatch.reset();\r\n        updateUi('0:00:00.0');\r\n        startButtonElement.innerText = 'Start';\r\n        lapIndex = 1;\r\n        lapTableElement.innerHTML = '';\r\n    }\r\n}\r\n\r\nfunction tableCell(text) {\r\n    let cell = document.createElement('td');\r\n    cell.innerText = text;\r\n    return cell;\r\n}\r\n\r\nfunction addLap(total, lap) {\r\n    let lapFormatted = formatTime(lap);\r\n    let totalFormatted = formatTime(total);\r\n\r\n    let row = document.createElement('tr');\r\n    row.appendChild(tableCell(lapIndex.toString()));\r\n    row.appendChild(tableCell(lapFormatted));\r\n    row.appendChild(tableCell(totalFormatted));\r\n    lapTableElement.appendChild(row);\r\n\r\n    lapIndex += 1;\r\n}\r\n\r\nfunction updateUi(text) {\r\n    stopwatchElement.innerText = text;\r\n}\r\n\r\n"]}