{"version":3,"sources":["../../scripts/gui/stopwatch-gui.js"],"names":["stopwatchElement","startButtonElement","resetButtonElement","shareButtonElement","lapTableWrapper","lapTable","stopwatch","Stopwatch","timerTick","document","addEventListener","event","getElementById","onclick","startClick","resetClick","ReactDOM","render","elapsed","timeStr","formatTime","updateUi","getState","TimerState","STOPPED","start","innerText","PAUSED","resume","RUNNING","pause","lap","total","addLap","reset","clear","tableCell","text","cell","createElement","lapFormatted","totalFormatted"],"mappings":";;AAAA,IAAIA,yBAAJ;AACA,IAAIC,2BAAJ;AACA,IAAIC,2BAAJ;AACA,IAAIC,2BAAJ;AACA,IAAIC,wBAAJ;AACA,IAAIC,iBAAJ;;AAEA,IAAIC,YAAY,IAAIC,SAAJ,CAAc,GAAd,EAAmBC,SAAnB,CAAhB;;AAEAC,SAASC,gBAAT,CAA0B,kBAA1B,EAA8C,UAAUC,KAAV,EAAiB;AAC3DX,uBAAmBS,SAASG,cAAT,CAAwB,YAAxB,CAAnB;AACAX,yBAAqBQ,SAASG,cAAT,CAAwB,cAAxB,CAArB;AACAV,yBAAqBO,SAASG,cAAT,CAAwB,cAAxB,CAArB;AACAR,sBAAkBK,SAASG,cAAT,CAAwB,UAAxB,CAAlB;AACAT,yBAAqBM,SAASG,cAAT,CAAwB,oBAAxB,CAArB;AACAX,uBAAmBY,OAAnB,GAA6BC,UAA7B;AACAZ,uBAAmBW,OAAnB,GAA6BE,UAA7B;;AAEAV,eAAWW,SAASC,MAAT,CAAgB,oBAAC,QAAD,OAAhB,EAA6Bb,eAA7B,CAAX;AACH,CAVD;;AAYA,SAASI,SAAT,CAAmBU,OAAnB,EAA4B;AACxB,QAAIC,UAAUC,WAAWF,OAAX,CAAd;AACAG,aAASF,OAAT;AACH;;AAED,SAASL,UAAT,GAAsB;AAClB,YAAQR,UAAUgB,QAAV,EAAR;AACI,aAAKC,WAAWC,OAAhB;AACIlB,sBAAUmB,KAAV;AACAxB,+BAAmByB,SAAnB,GAA+B,OAA/B;AACAxB,+BAAmBwB,SAAnB,GAA+B,KAA/B;AACA;AACJ,aAAKH,WAAWI,MAAhB;AACIrB,sBAAUsB,MAAV;AACA3B,+BAAmByB,SAAnB,GAA+B,OAA/B;AACAxB,+BAAmBwB,SAAnB,GAA+B,KAA/B;AACA;AACJ,aAAKH,WAAWM,OAAhB;AACIvB,sBAAUwB,KAAV;AACA7B,+BAAmByB,SAAnB,GAA+B,QAA/B;AACAxB,+BAAmBwB,SAAnB,GAA+B,OAA/B;AACA;AAfR;AAiBH;;AAED,SAASX,UAAT,GAAsB;AAClB,QAAIT,UAAUgB,QAAV,OAAyBC,WAAWM,OAAxC,EAAiD;AAAA,6BAC1BvB,UAAUyB,GAAV,EAD0B;AAAA,YACxCC,KADwC,kBACxCA,KADwC;AAAA,YACjCD,GADiC,kBACjCA,GADiC;;AAE7CE,eAAOD,KAAP,EAAcD,GAAd;AACH,KAHD,MAGO;AACHzB,kBAAU4B,KAAV;AACAb,iBAAS,WAAT;AACApB,2BAAmByB,SAAnB,GAA+B,OAA/B;AACArB,iBAAS8B,KAAT;AACH;AACJ;;AAED,SAASC,SAAT,CAAmBC,IAAnB,EAAyB;AACrB,QAAIC,OAAO7B,SAAS8B,aAAT,CAAuB,IAAvB,CAAX;AACAD,SAAKZ,SAAL,GAAiBW,IAAjB;AACA,WAAOC,IAAP;AACH;;AAED,SAASL,MAAT,CAAgBD,KAAhB,EAAuBD,GAAvB,EAA4B;AACxB,QAAIS,eAAepB,WAAWW,GAAX,CAAnB;AACA,QAAIU,iBAAiBrB,WAAWY,KAAX,CAArB;;AAEA3B,aAAS4B,MAAT,CAAgBO,YAAhB,EAA8BC,cAA9B;AACH;;AAED,SAASpB,QAAT,CAAkBgB,IAAlB,EAAwB;AACpBrC,qBAAiB0B,SAAjB,GAA6BW,IAA7B;AACH","file":"stopwatch-gui.js","sourcesContent":["let stopwatchElement;\r\nlet startButtonElement;\r\nlet resetButtonElement;\r\nlet shareButtonElement;\r\nlet lapTableWrapper;\r\nlet lapTable;\r\n\r\nlet stopwatch = new Stopwatch(100, timerTick);\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function (event) {\r\n    stopwatchElement = document.getElementById('timer-time');\r\n    startButtonElement = document.getElementById('button-start');\r\n    resetButtonElement = document.getElementById('button-reset');\r\n    lapTableWrapper = document.getElementById('lap-info');\r\n    shareButtonElement = document.getElementById('button-share-times');\r\n    startButtonElement.onclick = startClick;\r\n    resetButtonElement.onclick = resetClick;\r\n\r\n    lapTable = ReactDOM.render(<LapTable/>, lapTableWrapper);\r\n});\r\n\r\nfunction timerTick(elapsed) {\r\n    let timeStr = formatTime(elapsed);\r\n    updateUi(timeStr);\r\n}\r\n\r\nfunction startClick() {\r\n    switch (stopwatch.getState()) {\r\n        case TimerState.STOPPED:\r\n            stopwatch.start();\r\n            startButtonElement.innerText = 'Pause';\r\n            resetButtonElement.innerText = 'Lap';\r\n            break;\r\n        case TimerState.PAUSED:\r\n            stopwatch.resume();\r\n            startButtonElement.innerText = 'Pause';\r\n            resetButtonElement.innerText = 'Lap';\r\n            break;\r\n        case TimerState.RUNNING:\r\n            stopwatch.pause();\r\n            startButtonElement.innerText = 'Resume';\r\n            resetButtonElement.innerText = 'Reset';\r\n            break;\r\n    }\r\n}\r\n\r\nfunction resetClick() {\r\n    if (stopwatch.getState() === TimerState.RUNNING) {\r\n        let {total, lap} = stopwatch.lap();\r\n        addLap(total, lap);\r\n    } else {\r\n        stopwatch.reset();\r\n        updateUi('0:00:00.0');\r\n        startButtonElement.innerText = 'Start';\r\n        lapTable.clear();\r\n    }\r\n}\r\n\r\nfunction tableCell(text) {\r\n    let cell = document.createElement('td');\r\n    cell.innerText = text;\r\n    return cell;\r\n}\r\n\r\nfunction addLap(total, lap) {\r\n    let lapFormatted = formatTime(lap);\r\n    let totalFormatted = formatTime(total);\r\n\r\n    lapTable.addLap(lapFormatted, totalFormatted);\r\n}\r\n\r\nfunction updateUi(text) {\r\n    stopwatchElement.innerText = text;\r\n}\r\n\r\n"]}