{"version":3,"sources":["../../scripts/gui/contact-us-gui.js"],"names":["postUrl","submitButton","subjectInput","emailInput","messageInput","formElement","document","addEventListener","getElementById","e","onSubmit","checkValidity","preventDefault","request","XMLHttpRequest","onreadystatechange","handleResponse","open","data","JSON","stringify","subject","value","email","message","setRequestHeader","send","readyState","status","onSuccess","onFailure","alert","window","location","reload"],"mappings":";;AAAA,IAAIA,UAAU,2CAAd;AACA,IAAIC,qBAAJ;AACA,IAAIC,qBAAJ;AACA,IAAIC,mBAAJ;AACA,IAAIC,qBAAJ;AACA,IAAIC,oBAAJ;;AAEAC,SAASC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAChDL,mBAAeI,SAASE,cAAT,CAAwB,iBAAxB,CAAf;AACAL,iBAAaG,SAASE,cAAT,CAAwB,eAAxB,CAAb;AACAJ,mBAAeE,SAASE,cAAT,CAAwB,cAAxB,CAAf;AACAP,mBAAeK,SAASE,cAAT,CAAwB,gBAAxB,CAAf;AACAH,kBAAcC,SAASE,cAAT,CAAwB,cAAxB,CAAd;;AAEAP,iBAAaM,gBAAb,CAA8B,OAA9B,EAAuC,UAACE,CAAD;AAAA,eAAOC,SAASD,CAAT,CAAP;AAAA,KAAvC;AACH,CARD;;AAUA,SAASC,QAAT,CAAkBD,CAAlB,EAAqB;AACjB,QAAIJ,YAAYM,aAAZ,EAAJ,EAAiC;AAC7BF,UAAEG,cAAF;AACA,YAAIC,UAAU,IAAIC,cAAJ,EAAd;AACAD,gBAAQE,kBAAR,GAA6B;AAAA,mBAAMC,eAAeH,OAAf,CAAN;AAAA,SAA7B;AACAA,gBAAQI,IAAR,CAAa,MAAb,EAAqBjB,OAArB,EAA8B,IAA9B;AACA,YAAIkB,OAAOC,KAAKC,SAAL,CAAe;AACtBC,qBAASnB,aAAaoB,KADA;AAEtBC,mBAAOpB,WAAWmB,KAFI;AAGtBE,qBAASpB,aAAakB;AAHA,SAAf,CAAX;AAKAT,gBAAQY,gBAAR,CAAyB,cAAzB,EAAyC,iCAAzC;AACAZ,gBAAQa,IAAR,CAAaR,IAAb;AACH;AACJ;;AAED,SAASF,cAAT,CAAwBH,OAAxB,EAAiC;AAC7B,QAAIA,QAAQc,UAAR,KAAuB,CAA3B,EAA8B;AAC1B,YAAId,QAAQe,MAAR,KAAmB,GAAvB,EAA4B;AACxBC;AACH,SAFD,MAEO;AACHC;AACH;AACJ;AACJ;;AAED,SAASD,SAAT,GAAqB;AACjBE,UAAM,4BAAN;AACAC,WAAOC,QAAP,CAAgBC,MAAhB;AACH;;AAED,SAASJ,SAAT,GAAqB;AACjBC,UAAM,gDAAN;AACH","file":"contact-us-gui.js","sourcesContent":["let postUrl = 'http://timerr.proxy.beeceptor.com/message';\r\nlet submitButton;\r\nlet subjectInput;\r\nlet emailInput;\r\nlet messageInput;\r\nlet formElement;\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    subjectInput = document.getElementById('message-subject');\r\n    emailInput = document.getElementById('message-email');\r\n    messageInput = document.getElementById('message-text');\r\n    submitButton = document.getElementById('message-submit');\r\n    formElement = document.getElementById('message-form');\r\n\r\n    submitButton.addEventListener('click', (e) => onSubmit(e));\r\n});\r\n\r\nfunction onSubmit(e) {\r\n    if (formElement.checkValidity()) {\r\n        e.preventDefault();\r\n        let request = new XMLHttpRequest();\r\n        request.onreadystatechange = () => handleResponse(request);\r\n        request.open('post', postUrl, true);\r\n        let data = JSON.stringify({\r\n            subject: subjectInput.value,\r\n            email: emailInput.value,\r\n            message: messageInput.value\r\n        });\r\n        request.setRequestHeader('Content-Type', 'application/json; charset=utf-8');\r\n        request.send(data);\r\n    }\r\n}\r\n\r\nfunction handleResponse(request) {\r\n    if (request.readyState === 4) {\r\n        if (request.status === 200) {\r\n            onSuccess();\r\n        } else {\r\n            onFailure();\r\n        }\r\n    }\r\n}\r\n\r\nfunction onSuccess() {\r\n    alert('Message successfully sent.');\r\n    window.location.reload();\r\n}\r\n\r\nfunction onFailure() {\r\n    alert(\"Couldn't send message, please try again later.\")\r\n}"]}