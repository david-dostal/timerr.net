"use strict";var _createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||false;d.configurable=true;if("value" in d){d.writable=true}Object.defineProperty(e,d.key,d)}}return function(d,b,c){if(b){a(d.prototype,b)}if(c){a(d,c)}return d}}();function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}var AlarmState=Object.freeze({ENABLED:"ENABLED",DISABLED:"DISABLED"});var Alarm=function(){function f(j,k){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;_classCallCheck(this,f);this.onFinished=j;this._targetTime=k;this.onRemainingUpdated=i;this._state=AlarmState.DISABLED;this._timerId=null;this._remainingTimerId=null}_createClass(f,[{key:"_finished",value:function a(){this.disable();this.onFinished()}},{key:"setTarget",value:function g(i){this._targetTime=i}},{key:"enable",value:function d(){var j=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._targetTime;if(this._state===AlarmState.DISABLED){this._state=AlarmState.ENABLED;this.setTarget(i);this._timerId=setTimeout(function(){return j._finished()},this.remaining());this.onRemainingUpdated();this._remainingTimerId=setInterval(function(){return j.onRemainingUpdated()},1000)}}},{key:"disable",value:function c(){this._state=AlarmState.DISABLED;clearTimeout(this._timerId);clearTimeout(this._remainingTimerId)}},{key:"remaining",value:function e(){return this.targetTime()-new Date().getTime()}},{key:"targetTime",value:function h(){return this._targetTime}},{key:"getState",value:function b(){return this._state}}]);return f}();