{"version":3,"sources":["alarm.min.js"],"names":["_createClass","a","e","c","b","length","d","enumerable","configurable","writable","defineProperty","key","prototype","_classCallCheck","TypeError","AlarmState","Object","freeze","ENABLED","DISABLED","Alarm","f","j","k","i","arguments","undefined","onFinished","_targetTime","onRemainingUpdated","_state","_timerId","_remainingTimerId","value","disable","g","setTarget","setTimeout","_finished","remaining","setInterval","clearTimeout","targetTime","Date","getTime","h"],"mappings":"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","file":"alarm.min.js","sourcesContent":["\"use strict\";var _createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||false;d.configurable=true;if(\"value\" in d){d.writable=true}Object.defineProperty(e,d.key,d)}}return function(d,b,c){if(b){a(d.prototype,b)}if(c){a(d,c)}return d}}();function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError(\"Cannot call a class as a function\")}}var AlarmState=Object.freeze({ENABLED:\"ENABLED\",DISABLED:\"DISABLED\"});var Alarm=function(){function f(j,k){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;_classCallCheck(this,f);this.onFinished=j;this._targetTime=k;this.onRemainingUpdated=i;this._state=AlarmState.DISABLED;this._timerId=null;this._remainingTimerId=null}_createClass(f,[{key:\"_finished\",value:function a(){this.disable();this.onFinished()}},{key:\"setTarget\",value:function g(i){this._targetTime=i}},{key:\"enable\",value:function d(){var j=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._targetTime;if(this._state===AlarmState.DISABLED){this._state=AlarmState.ENABLED;this.setTarget(i);this._timerId=setTimeout(function(){return j._finished()},this.remaining());this.onRemainingUpdated();this._remainingTimerId=setInterval(function(){return j.onRemainingUpdated()},1000)}}},{key:\"disable\",value:function c(){this._state=AlarmState.DISABLED;clearTimeout(this._timerId);clearTimeout(this._remainingTimerId)}},{key:\"remaining\",value:function e(){return this.targetTime()-new Date().getTime()}},{key:\"targetTime\",value:function h(){return this._targetTime}},{key:\"getState\",value:function b(){return this._state}}]);return f}();"]}