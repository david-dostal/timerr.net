{"version":3,"sources":["alarm.min.js"],"names":["_createClass","a","e","c","b","length","d","enumerable","configurable","writable","defineProperty","key","prototype","_classCallCheck","TypeError","AlarmState","Object","freeze","ENABLED","DISABLED","Alarm","f","j","k","i","arguments","undefined","onFinished","_targetTime","onRemainingUpdated","_state","_timerId","_remainingTimerId","value","disable","g","setTarget","setTimeout","_finished","remaining","setInterval","clearTimeout","targetTime","Date","getTime","h"],"mappings":"AAAA;;AAEA,IAAIA,eAAe,YAAY;AAC7B,WAASC,CAAT,CAAWC,CAAX,EAAcC,CAAd,EAAiB;AACf,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAID,EAAEE,MAAtB,EAA8BD,GAA9B,EAAmC;AACjC,UAAIE,IAAIH,EAAEC,CAAF,CAAR,CAAaE,EAAEC,UAAF,GAAeD,EAAEC,UAAF,IAAgB,KAA/B,CAAqCD,EAAEE,YAAF,GAAiB,IAAjB,CAAsB,IAAI,WAAWF,CAAf,EAAkB;AACxFA,UAAEG,QAAF,GAAa,IAAb;AACD,cAAOC,cAAP,CAAsBR,CAAtB,EAAyBI,EAAEK,GAA3B,EAAgCL,CAAhC;AACF;AACF,UAAO,UAAUA,CAAV,EAAaF,CAAb,EAAgBD,CAAhB,EAAmB;AACzB,QAAIC,CAAJ,EAAO;AACLH,QAAEK,EAAEM,SAAJ,EAAeR,CAAf;AACD,SAAID,CAAJ,EAAO;AACNF,QAAEK,CAAF,EAAKH,CAAL;AACD,YAAOG,CAAP;AACF,GANA;AAOF,CAdkB,EAAnB,CAcI,SAASO,eAAT,CAAyBZ,CAAzB,EAA4BG,CAA5B,EAA+B;AACjC,MAAI,EAAEH,aAAaG,CAAf,CAAJ,EAAuB;AACrB,UAAM,IAAIU,SAAJ,CAAc,mCAAd,CAAN;AACD;AACF,KAAIC,aAAaC,OAAOC,MAAP,CAAc,EAAEC,SAAS,SAAX,EAAsBC,UAAU,UAAhC,EAAd,CAAjB,CAA6E,IAAIC,QAAQ,YAAY;AACpG,WAASC,CAAT,CAAWC,CAAX,EAAcC,CAAd,EAAiB;AACf,QAAIC,IAAIC,UAAUpB,MAAV,GAAmB,CAAnB,IAAwBoB,UAAU,CAAV,MAAiBC,SAAzC,GAAqDD,UAAU,CAAV,CAArD,GAAoE,IAA5E,CAAiFZ,gBAAgB,IAAhB,EAAsBQ,CAAtB,EAAyB,KAAKM,UAAL,GAAkBL,CAAlB,CAAoB,KAAKM,WAAL,GAAmBL,CAAnB,CAAqB,KAAKM,kBAAL,GAA0BL,CAA1B,CAA4B,KAAKM,MAAL,GAAcf,WAAWI,QAAzB,CAAkC,KAAKY,QAAL,GAAgB,IAAhB,CAAqB,KAAKC,iBAAL,GAAyB,IAAzB;AACvO,gBAAaX,CAAb,EAAgB,CAAC,EAAEV,KAAK,WAAP,EAAoBsB,OAAO,SAAShC,CAAT,GAAa;AACtD,WAAKiC,OAAL,GAAe,KAAKP,UAAL;AAChB,KAFe,EAAD,EAEV,EAAEhB,KAAK,WAAP,EAAoBsB,OAAO,SAASE,CAAT,CAAWX,CAAX,EAAc;AAC5C,WAAKI,WAAL,GAAmBJ,CAAnB;AACD,KAFI,EAFU,EAIV,EAAEb,KAAK,QAAP,EAAiBsB,OAAO,SAAS3B,CAAT,GAAa;AACxC,UAAIgB,IAAI,IAAR,CAAa,IAAIE,IAAIC,UAAUpB,MAAV,GAAmB,CAAnB,IAAwBoB,UAAU,CAAV,MAAiBC,SAAzC,GAAqDD,UAAU,CAAV,CAArD,GAAoE,KAAKG,WAAjF,CAA6F,IAAI,KAAKE,MAAL,KAAgBf,WAAWI,QAA/B,EAAyC;AACjJ,aAAKW,MAAL,GAAcf,WAAWG,OAAzB,CAAiC,KAAKkB,SAAL,CAAeZ,CAAf,EAAkB,KAAKO,QAAL,GAAgBM,WAAW,YAAY;AACxF,iBAAOf,EAAEgB,SAAF,EAAP;AACD,SAFkE,EAEhE,KAAKC,SAAL,EAFgE,CAAhB,CAE9B,KAAKV,kBAAL,GAA0B,KAAKG,iBAAL,GAAyBQ,YAAY,YAAY;AAC9F,iBAAOlB,EAAEO,kBAAF,EAAP;AACD,SAFuE,EAErE,IAFqE,CAAzB;AAGhD;AACF,KARI,EAJU,EAYV,EAAElB,KAAK,SAAP,EAAkBsB,OAAO,SAAS9B,CAAT,GAAa;AACzC,WAAK2B,MAAL,GAAcf,WAAWI,QAAzB,CAAkCsB,aAAa,KAAKV,QAAlB,EAA4BU,aAAa,KAAKT,iBAAlB;AAC/D,KAFI,EAZU,EAcV,EAAErB,KAAK,WAAP,EAAoBsB,OAAO,SAAS/B,CAAT,GAAa;AAC3C,aAAO,KAAKwC,UAAL,KAAoB,IAAIC,IAAJ,GAAWC,OAAX,EAA3B;AACD,KAFI,EAdU,EAgBV,EAAEjC,KAAK,YAAP,EAAqBsB,OAAO,SAASY,CAAT,GAAa;AAC5C,aAAO,KAAKjB,WAAZ;AACD,KAFI,EAhBU,EAkBV,EAAEjB,KAAK,UAAP,EAAmBsB,OAAO,SAAS7B,CAAT,GAAa;AAC1C,aAAO,KAAK0B,MAAZ;AACD,KAFI,EAlBU,CAAhB,EAoBO,OAAOT,CAAP;AACT,CAxByF,EAAZ;AAyB9E;AACA;AACA","file":"alarm.min.js","sourcesContent":["\"use strict\";\n\nvar _createClass = function () {\n  function a(e, c) {\n    for (var b = 0; b < c.length; b++) {\n      var d = c[b];d.enumerable = d.enumerable || false;d.configurable = true;if (\"value\" in d) {\n        d.writable = true;\n      }Object.defineProperty(e, d.key, d);\n    }\n  }return function (d, b, c) {\n    if (b) {\n      a(d.prototype, b);\n    }if (c) {\n      a(d, c);\n    }return d;\n  };\n}();function _classCallCheck(a, b) {\n  if (!(a instanceof b)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}var AlarmState = Object.freeze({ ENABLED: \"ENABLED\", DISABLED: \"DISABLED\" });var Alarm = function () {\n  function f(j, k) {\n    var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;_classCallCheck(this, f);this.onFinished = j;this._targetTime = k;this.onRemainingUpdated = i;this._state = AlarmState.DISABLED;this._timerId = null;this._remainingTimerId = null;\n  }_createClass(f, [{ key: \"_finished\", value: function a() {\n      this.disable();this.onFinished();\n    } }, { key: \"setTarget\", value: function g(i) {\n      this._targetTime = i;\n    } }, { key: \"enable\", value: function d() {\n      var j = this;var i = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._targetTime;if (this._state === AlarmState.DISABLED) {\n        this._state = AlarmState.ENABLED;this.setTarget(i);this._timerId = setTimeout(function () {\n          return j._finished();\n        }, this.remaining());this.onRemainingUpdated();this._remainingTimerId = setInterval(function () {\n          return j.onRemainingUpdated();\n        }, 1000);\n      }\n    } }, { key: \"disable\", value: function c() {\n      this._state = AlarmState.DISABLED;clearTimeout(this._timerId);clearTimeout(this._remainingTimerId);\n    } }, { key: \"remaining\", value: function e() {\n      return this.targetTime() - new Date().getTime();\n    } }, { key: \"targetTime\", value: function h() {\n      return this._targetTime;\n    } }, { key: \"getState\", value: function b() {\n      return this._state;\n    } }]);return f;\n}();\n//# sourceMappingURL=alarm.min.js.map\n//# sourceMappingURL=alarm.min.js.map\n//# sourceMappingURL=alarm.min.js.map"]}