"use strict";var _createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||false;d.configurable=true;if("value" in d){d.writable=true}Object.defineProperty(e,d.key,d)}}return function(d,b,c){if(b){a(d.prototype,b)}if(c){a(d,c)}return d}}();function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}var GmTimeApi=function(){function a(g){_classCallCheck(this,a);this._apiKey=g;var f=new Date();this._totalOffsetSeconds=-(new Date().getTimezoneOffset()*60);this._urlPattern=function(h,j,i){return"https://maps.googleapis.com/maps/api/timezone/json?location="+h+"&timestamp="+j+"&key="+i}}_createClass(a,[{key:"setLocation",value:function c(l,h,i,f){var k=this;var j=this._urlPattern(l+","+h,this._timestamp()/1000,this._apiKey);console.log(j);var g=new XMLHttpRequest();g.onreadystatechange=function(){return k._processResponse(g,i,f)};g.open("get",j,true);g.send()}},{key:"_processResponse",value:function b(h,i,g){if(h.readyState===4){if(h.status!==200){g();return}var f=JSON.parse(h.responseText);if(f.status!=="OK"){g();return}this._totalOffsetSeconds=f.dstOffset+f.rawOffset;i()}}},{key:"_timestamp",value:function e(){var f=new Date();return f.getTime()+f.getTimezoneOffset()*60000}},{key:"currentTime",value:function d(){var g=this._timestamp();var f=new Date(g+this._totalOffsetSeconds*1000);return f}}]);return a}();