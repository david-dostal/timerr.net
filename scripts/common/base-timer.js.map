{"version":3,"sources":["base-timer.js"],"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","TimerState","freeze","STOPPED","RUNNING","PAUSED","BaseTimer","interval","onTick","_this","_intervalTimer","IntervalTimer","_tick","reset","value","getTime","_state","_startTime","_pauseTime","start","Date","pause","elapsedTime","resume","pauseLength","currentTime","startTime","getState"],"mappings":"AAAA;;AAEA,IAAIA,eAAe,YAAY;AAAE,aAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAID,MAAME,MAA1B,EAAkCD,GAAlC,EAAuC;AAAE,gBAAIE,aAAaH,MAAMC,CAAN,CAAjB,CAA2BE,WAAWC,UAAX,GAAwBD,WAAWC,UAAX,IAAyB,KAAjD,CAAwDD,WAAWE,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWF,UAAf,EAA2BA,WAAWG,QAAX,GAAsB,IAAtB,CAA4BC,OAAOC,cAAP,CAAsBT,MAAtB,EAA8BI,WAAWM,GAAzC,EAA8CN,UAA9C;AAA4D;AAAE,KAAC,OAAO,UAAUO,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,YAAID,UAAJ,EAAgBb,iBAAiBY,YAAYG,SAA7B,EAAwCF,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBd,iBAAiBY,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,KAAhN;AAAmN,CAA9hB,EAAnB;;AAEA,SAASI,eAAT,CAAyBC,QAAzB,EAAmCL,WAAnC,EAAgD;AAAE,QAAI,EAAEK,oBAAoBL,WAAtB,CAAJ,EAAwC;AAAE,cAAM,IAAIM,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,IAAIC,aAAaV,OAAOW,MAAP,CAAc;AAC3BC,aAAS,SADkB;AAE3BC,aAAS,SAFkB;AAG3BC,YAAQ;AAHmB,CAAd,CAAjB;;AAMA,IAAIC,YAAY,YAAY;AACxB,aAASA,SAAT,CAAmBC,QAAnB,EAA6BC,MAA7B,EAAqC;AACjC,YAAIC,QAAQ,IAAZ;;AAEAX,wBAAgB,IAAhB,EAAsBQ,SAAtB;;AAEA,aAAKC,QAAL,GAAgBA,QAAhB;AACA,aAAKC,MAAL,GAAcA,MAAd;AACA,aAAKE,cAAL,GAAsB,IAAIC,aAAJ,CAAkB,YAAY;AAChD,mBAAOF,MAAMG,KAAN,EAAP;AACH,SAFqB,EAEnB,KAAKL,QAFc,CAAtB;AAGA,aAAKM,KAAL;AACH;;AAEDhC,iBAAayB,SAAb,EAAwB,CAAC;AACrBb,aAAK,OADgB;AAErBqB,eAAO,SAASF,KAAT,GAAiB;AACpB,iBAAKJ,MAAL,CAAY,KAAKO,OAAL,EAAZ;AACH;AAJoB,KAAD,EAKrB;AACCtB,aAAK,OADN;AAECqB,eAAO,SAASD,KAAT,GAAiB;AACpB,iBAAKG,MAAL,GAAcf,WAAWE,OAAzB;AACA,iBAAKc,UAAL,GAAkB,IAAlB;AACA,iBAAKC,UAAL,GAAkB,IAAlB;AACA,iBAAKR,cAAL,CAAoBG,KAApB;AACH;AAPF,KALqB,EAarB;AACCpB,aAAK,OADN;AAECqB,eAAO,SAASK,KAAT,GAAiB;AACpB,iBAAKH,MAAL,GAAcf,WAAWG,OAAzB;AACA,iBAAKa,UAAL,GAAkB,IAAIG,IAAJ,GAAWL,OAAX,EAAlB;AACA,iBAAKL,cAAL,CAAoBS,KAApB;AACH;AANF,KAbqB,EAoBrB;AACC1B,aAAK,OADN;AAECqB,eAAO,SAASO,KAAT,GAAiB;AACpB,iBAAKL,MAAL,GAAcf,WAAWI,MAAzB;AACA,iBAAKa,UAAL,GAAkB,KAAKI,WAAL,EAAlB;AACA,iBAAKZ,cAAL,CAAoBW,KAApB;AACH;AANF,KApBqB,EA2BrB;AACC5B,aAAK,QADN;AAECqB,eAAO,SAASS,MAAT,GAAkB;AACrB,iBAAKP,MAAL,GAAcf,WAAWG,OAAzB;AACA,gBAAIoB,cAAc,KAAKF,WAAL,KAAqB,KAAKJ,UAA5C;AACA,iBAAKD,UAAL,IAAmBO,WAAnB;AACA,iBAAKd,cAAL,CAAoBa,MAApB;AACH;AAPF,KA3BqB,EAmCrB;AACC9B,aAAK,aADN;AAECqB,eAAO,SAASQ,WAAT,GAAuB;AAC1B,gBAAIG,cAAc,IAAIL,IAAJ,GAAWL,OAAX,EAAlB;AACA,mBAAOU,eAAe,KAAKC,SAAL,MAAoB,IAApB,GAA2BD,WAA3B,GAAyC,KAAKC,SAAL,EAAxD,CAAP;AACH;AALF,KAnCqB,EAyCrB;AACCjC,aAAK,WADN;AAECqB,eAAO,SAASY,SAAT,GAAqB;AACxB,mBAAO,KAAKT,UAAZ;AACH;AAJF,KAzCqB,EA8CrB;AACCxB,aAAK,SADN;AAECqB,eAAO,SAASC,OAAT,GAAmB;AACtB,mBAAO,KAAKO,WAAL,EAAP;AACH;AAJF,KA9CqB,EAmDrB;AACC7B,aAAK,UADN;AAECqB,eAAO,SAASa,QAAT,GAAoB;AACvB,mBAAO,KAAKX,MAAZ;AACH;AAJF,KAnDqB,CAAxB;;AA0DA,WAAOV,SAAP;AACH,CAzEe,EAAhB;AA0EA","file":"base-timer.js","sourcesContent":["'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TimerState = Object.freeze({\n    STOPPED: 'STOPPED',\n    RUNNING: 'RUNNING',\n    PAUSED: 'PAUSED'\n});\n\nvar BaseTimer = function () {\n    function BaseTimer(interval, onTick) {\n        var _this = this;\n\n        _classCallCheck(this, BaseTimer);\n\n        this.interval = interval;\n        this.onTick = onTick;\n        this._intervalTimer = new IntervalTimer(function () {\n            return _this._tick();\n        }, this.interval);\n        this.reset();\n    }\n\n    _createClass(BaseTimer, [{\n        key: '_tick',\n        value: function _tick() {\n            this.onTick(this.getTime());\n        }\n    }, {\n        key: 'reset',\n        value: function reset() {\n            this._state = TimerState.STOPPED;\n            this._startTime = null;\n            this._pauseTime = null;\n            this._intervalTimer.reset();\n        }\n    }, {\n        key: 'start',\n        value: function start() {\n            this._state = TimerState.RUNNING;\n            this._startTime = new Date().getTime();\n            this._intervalTimer.start();\n        }\n    }, {\n        key: 'pause',\n        value: function pause() {\n            this._state = TimerState.PAUSED;\n            this._pauseTime = this.elapsedTime();\n            this._intervalTimer.pause();\n        }\n    }, {\n        key: 'resume',\n        value: function resume() {\n            this._state = TimerState.RUNNING;\n            var pauseLength = this.elapsedTime() - this._pauseTime;\n            this._startTime += pauseLength;\n            this._intervalTimer.resume();\n        }\n    }, {\n        key: 'elapsedTime',\n        value: function elapsedTime() {\n            var currentTime = new Date().getTime();\n            return currentTime - (this.startTime() == null ? currentTime : this.startTime());\n        }\n    }, {\n        key: 'startTime',\n        value: function startTime() {\n            return this._startTime;\n        }\n    }, {\n        key: 'getTime',\n        value: function getTime() {\n            return this.elapsedTime();\n        }\n    }, {\n        key: 'getState',\n        value: function getState() {\n            return this._state;\n        }\n    }]);\n\n    return BaseTimer;\n}();\n//# sourceMappingURL=base-timer.js.map"]}