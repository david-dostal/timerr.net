{"version":3,"sources":["number-input.js"],"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","NumberInput","inputElement","_this","_input","addEventListener","e","_onKeyDown","_onWheel","passive","select","_onBlur","_onInput","max","parseInt","attributes","undefined","value","min","_adjustValue","deltaY","_formatValue","setCustomValidity","validity","valid","validationMessage","amount","oldValue","newValue","Math","toString","padStart"],"mappings":"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","file":"number-input.js","sourcesContent":["'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar NumberInput = function () {\n    function NumberInput(inputElement) {\n        var _this = this;\n\n        _classCallCheck(this, NumberInput);\n\n        this._input = inputElement;\n        this._input.addEventListener('keydown', function (e) {\n            return _this._onKeyDown(e);\n        });\n        this._input.addEventListener('wheel', function (e) {\n            return _this._onWheel(e);\n        }, { passive: true });\n        this._input.addEventListener('focus', function () {\n            return _this._input.select();\n        });\n        this._input.addEventListener('blur', function (e) {\n            return _this._onBlur(e);\n        });\n        this._input.addEventListener('input', function (e) {\n            return _this._onInput(e);\n        });\n        this.max = parseInt(this._input.attributes['max'] === undefined ? '100' : this._input.attributes['max'].value);\n        this.min = parseInt(this._input.attributes['min'] === undefined ? '0' : this._input.attributes['min'].value);\n        if (this._input.attributes['autofocus']) {\n            this._input.select(); // Select on autofocus even in Firefox\n        }\n    }\n\n    _createClass(NumberInput, [{\n        key: '_onKeyDown',\n        value: function _onKeyDown(e) {\n            if (e.key === 'ArrowUp') {\n                this._adjustValue(1);\n            } else if (e.key === 'ArrowDown') {\n                this._adjustValue(-1);\n            }\n        }\n    }, {\n        key: '_onWheel',\n        value: function _onWheel(e) {\n            if (e.deltaY < 0) {\n                this._adjustValue(1);\n            } else if (e.deltaY > 0) {\n                this._adjustValue(-1);\n            }\n        }\n    }, {\n        key: '_onBlur',\n        value: function _onBlur(e) {\n            this._formatValue();\n        }\n    }, {\n        key: '_onInput',\n        value: function _onInput(e) {\n            this._input.setCustomValidity('');\n            if (!this._input.validity.valid) {\n                var validationMessage = 'Please enter a number between ' + this.min + ' and ' + this.max;\n                this._input.setCustomValidity(validationMessage);\n            }\n        }\n    }, {\n        key: '_adjustValue',\n        value: function _adjustValue(amount) {\n            var oldValue = parseInt(this._input.value);\n            var newValue = oldValue + amount;\n            newValue = Math.min(newValue, this.max);\n            newValue = Math.max(newValue, this.min);\n            this._input.value = newValue.toString();\n            this._formatValue();\n        }\n    }, {\n        key: '_formatValue',\n        value: function _formatValue() {\n            this._input.value = this._input.value.padStart(2, '0');\n        }\n    }]);\n\n    return NumberInput;\n}();\n//# sourceMappingURL=number-input.js.map"]}