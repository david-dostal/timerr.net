"use strict";var stopwatchElement=void 0;var startButtonElement=void 0;var resetButtonElement=void 0;var formElement=void 0;var hoursInput=void 0;var minutesInput=void 0;var secondsInput=void 0;var timer=new Timer(1000,timerTick,2*60*1000,timerCompleted);document.addEventListener("DOMContentLoaded",function(a){stopwatchElement=document.getElementById("timer-time");hoursInput=document.getElementById("hours-input");minutesInput=document.getElementById("minutes-input");secondsInput=document.getElementById("seconds-input");startButtonElement=document.getElementById("button-start");resetButtonElement=document.getElementById("button-reset");formElement=document.getElementById("timer-time");if(!LocalStorage.hasValue("timer-start-time")){saveTimerTime()}loadTimerTime();new NumberInput(hoursInput);new NumberInput(minutesInput);new NumberInput(secondsInput);startButtonElement.onclick=startClick;resetButtonElement.onclick=resetClick;updateUi(timer.getTime())});function timerTick(a){updateUi(a)}function startClick(){switch(timer.getState()){case TimerState.STOPPED:startTimer();break;case TimerState.PAUSED:timer.resume();startButtonElement.innerText="Pause";break;case TimerState.RUNNING:timer.pause();startButtonElement.innerText="Resume";break}}function startTimer(){if(inputsValid()){freezeInputs();var d=[parseInt(hoursInput.value),parseInt(minutesInput.value),parseInt(secondsInput.value)],c=d[0],a=d[1],b=d[2];saveTimerTime();timer.start(toMilliseconds(c,a,b));startButtonElement.innerText="Pause"}}function loadTimerTime(){if(LocalStorage.hasValue("timer-start-time")){var d=LocalStorage.tryLoad("timer-start-time"),c=d.h,a=d.m,b=d.s;timer.reset(toMilliseconds(c,a,b))}}function saveTimerTime(){var a={h:parseInt(hoursInput.value),m:parseInt(minutesInput.value),s:parseInt(secondsInput.value)};LocalStorage.trySave("timer-start-time",a)}function resetClick(){timer.reset();updateUi(timer.getTime());startButtonElement.innerText="Start";unfreezeInputs()}function timerCompleted(){setTimeout(function(){alert("Time is up!");resetClick()},1)}function updateUi(d){d=Math.round(d/1000)*1000;var c=decomposeTime(d),f=c.h,a=c.m,e=c.s,b=c._;hoursInput.value=f.toString().padStart(2,"0");minutesInput.value=a.toString().padStart(2,"0");secondsInput.value=e.toString().padStart(2,"0")}function inputsValid(){var a=hoursInput.validity.valid&&minutesInput.validity.valid&&secondsInput.validity.valid;if(!a){formElement.reportValidity()}return a}function freezeInputs(){hoursInput.setAttribute("readonly","");minutesInput.setAttribute("readonly","");secondsInput.setAttribute("readonly","")}function unfreezeInputs(){hoursInput.removeAttribute("readonly");minutesInput.removeAttribute("readonly");secondsInput.removeAttribute("readonly")};