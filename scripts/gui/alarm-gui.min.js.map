{"version":3,"sources":["alarm-gui.min.js"],"names":["alarm","enableButton","hoursInput","minutesInput","remainingElement","formElement","document","addEventListener","c","getElementById","localStorage","getItem","saveAlarmTarget","d","JSON","parse","b","h","a","m","value","toString","padStart","NumberInput","onclick","enableClick","Alarm","alarmFinished","getInputTime","updateRemaining","alert","Date","targetTime","toLocaleTimeString","innerText","unfreezeInputs","formatRemaining","remaining","f","g","Math","round","decomposeTime","e","s","ms","parseInt","setItem","stringify","getState","AlarmState","DISABLED","inputsValid","freezeInputs","enable","ENABLED","disable","validity","valid","reportValidity","getFullYear","getMonth","getDate","getTime","setAttribute","removeAttribute"],"mappings":"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","file":"alarm-gui.min.js","sourcesContent":["\"use strict\";var alarm=void 0;var enableButton=void 0;var hoursInput=void 0;var minutesInput=void 0;var remainingElement=void 0;var formElement=void 0;document.addEventListener(\"DOMContentLoaded\",function(c){enableButton=document.getElementById(\"button-enable\");hoursInput=document.getElementById(\"hours-input\");minutesInput=document.getElementById(\"minutes-input\");remainingElement=document.getElementById(\"remaining-time\");formElement=document.getElementById(\"timer-time\");if(localStorage&&localStorage.getItem(\"alarm-target-time\")===null){saveAlarmTarget()}if(localStorage){var d=JSON.parse(localStorage.getItem(\"alarm-target-time\")),b=d.h,a=d.m;hoursInput.value=b.toString().padStart(2,\"0\");minutesInput.value=a.toString().padStart(2,\"0\")}new NumberInput(hoursInput);new NumberInput(minutesInput);enableButton.onclick=enableClick;alarm=new Alarm(function(){return alarmFinished()},getInputTime(),function(){return updateRemaining()})});function alarmFinished(){alert(\"Beep Beep! It's \"+new Date(alarm.targetTime()).toLocaleTimeString()+\".\");enableButton.innerText=\"Enable\";unfreezeInputs()}function updateRemaining(){remainingElement.innerText=formatRemaining(alarm.remaining())}function formatRemaining(f){var g=Math.round(f/(1000*60))*1000*60;var c=decomposeTime(g),e=c.h,a=c.m,d=c.s,b=c.ms;return e+\"h \"+a+\"m remaining\"}function saveAlarmTarget(){if(localStorage){var c=[parseInt(hoursInput.value),parseInt(minutesInput.value)],b=c[0],a=c[1];localStorage.setItem(\"alarm-target-time\",JSON.stringify({h:b,m:a}))}}function enableClick(){switch(alarm.getState()){case AlarmState.DISABLED:if(inputsValid()){freezeInputs();saveAlarmTarget();alarm.enable(getInputTime());enableButton.innerText=\"Disable alarm\"}break;case AlarmState.ENABLED:alarm.disable();unfreezeInputs();enableButton.innerText=\"Enable alarm\";remainingElement.innerText=\"\";break}}function inputsValid(){var a=hoursInput.validity.valid&&minutesInput.validity.valid;if(!a){formElement.reportValidity()}return a}function getInputTime(){var e=parseInt(hoursInput.value);var a=parseInt(minutesInput.value);var c=new Date();var b=new Date(c.getFullYear(),c.getMonth(),c.getDate(),e,a,0);if(b.getTime()>c.getTime()){return b.getTime()}else{var d=24*60*60*1000;return b.getTime()+d}}function freezeInputs(){hoursInput.setAttribute(\"readonly\",\"\");minutesInput.setAttribute(\"readonly\",\"\")}function unfreezeInputs(){hoursInput.removeAttribute(\"readonly\");minutesInput.removeAttribute(\"readonly\")};"]}