{"version":3,"sources":["timer-gui.min.js"],"names":["stopwatchElement","startButtonElement","resetButtonElement","formElement","hoursInput","minutesInput","secondsInput","timer","Timer","timerTick","timerCompleted","document","addEventListener","a","getElementById","LocalStorage","hasValue","saveTimerTime","NumberInput","onclick","startClick","resetClick","updateUi","getTime","getState","TimerState","STOPPED","startTimer","PAUSED","resume","innerText","RUNNING","pause","inputsValid","freezeInputs","d","parseInt","value","c","b","start","toMilliseconds","loadTimerTime","tryLoad","h","m","s","reset","trySave","unfreezeInputs","setTimeout","alert","Math","round","decomposeTime","f","e","_","toString","padStart","validity","valid","reportValidity","setAttribute","removeAttribute"],"mappings":"AAAA;;AAEA,IAAIA,mBAAmB,KAAK,CAA5B,CAA8B,IAAIC,qBAAqB,KAAK,CAA9B,CAAgC,IAAIC,qBAAqB,KAAK,CAA9B,CAAgC,IAAIC,cAAc,KAAK,CAAvB,CAAyB,IAAIC,aAAa,KAAK,CAAtB,CAAwB,IAAIC,eAAe,KAAK,CAAxB,CAA0B,IAAIC,eAAe,KAAK,CAAxB,CAA0B,IAAIC,QAAQ,IAAIC,KAAJ,CAAU,IAAV,EAAgBC,SAAhB,EAA2B,IAAI,EAAJ,GAAS,IAApC,EAA0CC,cAA1C,CAAZ,CAAsEC,SAASC,gBAAT,CAA0B,kBAA1B,EAA8C,UAAUC,CAAV,EAAa;AAClUb,qBAAmBW,SAASG,cAAT,CAAwB,YAAxB,CAAnB,CAAyDV,aAAaO,SAASG,cAAT,CAAwB,aAAxB,CAAb,CAAoDT,eAAeM,SAASG,cAAT,CAAwB,eAAxB,CAAf,CAAwDR,eAAeK,SAASG,cAAT,CAAwB,eAAxB,CAAf,CAAwDb,qBAAqBU,SAASG,cAAT,CAAwB,cAAxB,CAArB,CAA6DZ,qBAAqBS,SAASG,cAAT,CAAwB,cAAxB,CAArB,CAA6DX,cAAcQ,SAASG,cAAT,CAAwB,YAAxB,CAAd,CAAoD,IAAI,CAACC,aAAaC,QAAb,CAAsB,kBAAtB,CAAL,EAAgD;AACzbC;AACD,mBAAgB,IAAIC,WAAJ,CAAgBd,UAAhB,EAA4B,IAAIc,WAAJ,CAAgBb,YAAhB,EAA8B,IAAIa,WAAJ,CAAgBZ,YAAhB,EAA8BL,mBAAmBkB,OAAnB,GAA6BC,UAA7B,CAAwClB,mBAAmBiB,OAAnB,GAA6BE,UAA7B,CAAwCC,SAASf,MAAMgB,OAAN,EAAT;AAC1L,CAJwQ,EAItQ,SAASd,SAAT,CAAmBI,CAAnB,EAAsB;AACvBS,WAAST,CAAT;AACD,UAASO,UAAT,GAAsB;AACrB,UAAQb,MAAMiB,QAAN,EAAR,GAA2B,KAAKC,WAAWC,OAAhB;AACvBC,mBAAa,MAAM,KAAKF,WAAWG,MAAhB;AACnBrB,YAAMsB,MAAN,GAAe5B,mBAAmB6B,SAAnB,GAA+B,OAA/B,CAAuC,MAAM,KAAKL,WAAWM,OAAhB;AAC5DxB,YAAMyB,KAAN,GAAc/B,mBAAmB6B,SAAnB,GAA+B,QAA/B,CAAwC,MAH1D;AAID,UAASH,UAAT,GAAsB;AACrB,MAAIM,aAAJ,EAAmB;AACjBC,mBAAe,IAAIC,IAAI,CAACC,SAAShC,WAAWiC,KAApB,CAAD,EAA6BD,SAAS/B,aAAagC,KAAtB,CAA7B,EAA2DD,SAAS9B,aAAa+B,KAAtB,CAA3D,CAAR;AAAA,QACXC,IAAIH,EAAE,CAAF,CADO;AAAA,QAEXtB,IAAIsB,EAAE,CAAF,CAFO;AAAA,QAGXI,IAAIJ,EAAE,CAAF,CAHO,CAGFlB,gBAAgBV,MAAMiC,KAAN,CAAYC,eAAeH,CAAf,EAAkBzB,CAAlB,EAAqB0B,CAArB,CAAZ,EAAqCtC,mBAAmB6B,SAAnB,GAA+B,OAA/B;AACnE;AACF,UAASY,aAAT,GAAyB;AACxB,MAAI3B,aAAaC,QAAb,CAAsB,kBAAtB,CAAJ,EAA+C;AAC7C,QAAImB,IAAIpB,aAAa4B,OAAb,CAAqB,kBAArB,CAAR;AAAA,QACIL,IAAIH,EAAES,CADV;AAAA,QAEI/B,IAAIsB,EAAEU,CAFV;AAAA,QAGIN,IAAIJ,EAAEW,CAHV,CAGYvC,MAAMwC,KAAN,CAAYN,eAAeH,CAAf,EAAkBzB,CAAlB,EAAqB0B,CAArB,CAAZ;AACb;AACF,UAAStB,aAAT,GAAyB;AACxB,MAAIJ,IAAI,EAAE+B,GAAGR,SAAShC,WAAWiC,KAApB,CAAL,EAAiCQ,GAAGT,SAAS/B,aAAagC,KAAtB,CAApC,EAAkES,GAAGV,SAAS9B,aAAa+B,KAAtB,CAArE,EAAR,CAA4GtB,aAAaiC,OAAb,CAAqB,kBAArB,EAAyCnC,CAAzC;AAC7G,UAASQ,UAAT,GAAsB;AACrBd,QAAMwC,KAAN,GAAczB,SAASf,MAAMgB,OAAN,EAAT,EAA0BtB,mBAAmB6B,SAAnB,GAA+B,OAA/B,CAAuCmB;AAChF,UAASvC,cAAT,GAA0B;AACzBwC,aAAW,YAAY;AACrBC,UAAM,aAAN,EAAqB9B;AACtB,GAFD,EAEG,CAFH;AAGD,UAASC,QAAT,CAAkBa,CAAlB,EAAqB;AACpBA,MAAIiB,KAAKC,KAAL,CAAWlB,IAAI,IAAf,IAAuB,IAA3B,CAAgC,IAAIG,IAAIgB,cAAcnB,CAAd,CAAR;AAAA,MAC5BoB,IAAIjB,EAAEM,CADsB;AAAA,MAE5B/B,IAAIyB,EAAEO,CAFsB;AAAA,MAG5BW,IAAIlB,EAAEQ,CAHsB;AAAA,MAI5BP,IAAID,EAAEmB,CAJsB,CAIpBrD,WAAWiC,KAAX,GAAmBkB,EAAEG,QAAF,GAAaC,QAAb,CAAsB,CAAtB,EAAyB,GAAzB,CAAnB,CAAiDtD,aAAagC,KAAb,GAAqBxB,EAAE6C,QAAF,GAAaC,QAAb,CAAsB,CAAtB,EAAyB,GAAzB,CAArB,CAAmDrD,aAAa+B,KAAb,GAAqBmB,EAAEE,QAAF,GAAaC,QAAb,CAAsB,CAAtB,EAAyB,GAAzB,CAArB;AACjH,UAAS1B,WAAT,GAAuB;AACtB,MAAIpB,IAAIT,WAAWwD,QAAX,CAAoBC,KAApB,IAA6BxD,aAAauD,QAAb,CAAsBC,KAAnD,IAA4DvD,aAAasD,QAAb,CAAsBC,KAA1F,CAAgG,IAAI,CAAChD,CAAL,EAAQ;AACtGV,gBAAY2D,cAAZ;AACD,UAAOjD,CAAP;AACF,UAASqB,YAAT,GAAwB;AACvB9B,aAAW2D,YAAX,CAAwB,UAAxB,EAAoC,EAApC,EAAwC1D,aAAa0D,YAAb,CAA0B,UAA1B,EAAsC,EAAtC,EAA0CzD,aAAayD,YAAb,CAA0B,UAA1B,EAAsC,EAAtC;AACnF,UAASd,cAAT,GAA0B;AACzB7C,aAAW4D,eAAX,CAA2B,UAA3B,EAAuC3D,aAAa2D,eAAb,CAA6B,UAA7B,EAAyC1D,aAAa0D,eAAb,CAA6B,UAA7B;AACjF;AACD;AACA;AACA","file":"timer-gui.min.js","sourcesContent":["\"use strict\";\n\nvar stopwatchElement = void 0;var startButtonElement = void 0;var resetButtonElement = void 0;var formElement = void 0;var hoursInput = void 0;var minutesInput = void 0;var secondsInput = void 0;var timer = new Timer(1000, timerTick, 2 * 60 * 1000, timerCompleted);document.addEventListener(\"DOMContentLoaded\", function (a) {\n  stopwatchElement = document.getElementById(\"timer-time\");hoursInput = document.getElementById(\"hours-input\");minutesInput = document.getElementById(\"minutes-input\");secondsInput = document.getElementById(\"seconds-input\");startButtonElement = document.getElementById(\"button-start\");resetButtonElement = document.getElementById(\"button-reset\");formElement = document.getElementById(\"timer-time\");if (!LocalStorage.hasValue(\"timer-start-time\")) {\n    saveTimerTime();\n  }loadTimerTime();new NumberInput(hoursInput);new NumberInput(minutesInput);new NumberInput(secondsInput);startButtonElement.onclick = startClick;resetButtonElement.onclick = resetClick;updateUi(timer.getTime());\n});function timerTick(a) {\n  updateUi(a);\n}function startClick() {\n  switch (timer.getState()) {case TimerState.STOPPED:\n      startTimer();break;case TimerState.PAUSED:\n      timer.resume();startButtonElement.innerText = \"Pause\";break;case TimerState.RUNNING:\n      timer.pause();startButtonElement.innerText = \"Resume\";break;}\n}function startTimer() {\n  if (inputsValid()) {\n    freezeInputs();var d = [parseInt(hoursInput.value), parseInt(minutesInput.value), parseInt(secondsInput.value)],\n        c = d[0],\n        a = d[1],\n        b = d[2];saveTimerTime();timer.start(toMilliseconds(c, a, b));startButtonElement.innerText = \"Pause\";\n  }\n}function loadTimerTime() {\n  if (LocalStorage.hasValue(\"timer-start-time\")) {\n    var d = LocalStorage.tryLoad(\"timer-start-time\"),\n        c = d.h,\n        a = d.m,\n        b = d.s;timer.reset(toMilliseconds(c, a, b));\n  }\n}function saveTimerTime() {\n  var a = { h: parseInt(hoursInput.value), m: parseInt(minutesInput.value), s: parseInt(secondsInput.value) };LocalStorage.trySave(\"timer-start-time\", a);\n}function resetClick() {\n  timer.reset();updateUi(timer.getTime());startButtonElement.innerText = \"Start\";unfreezeInputs();\n}function timerCompleted() {\n  setTimeout(function () {\n    alert(\"Time is up!\");resetClick();\n  }, 1);\n}function updateUi(d) {\n  d = Math.round(d / 1000) * 1000;var c = decomposeTime(d),\n      f = c.h,\n      a = c.m,\n      e = c.s,\n      b = c._;hoursInput.value = f.toString().padStart(2, \"0\");minutesInput.value = a.toString().padStart(2, \"0\");secondsInput.value = e.toString().padStart(2, \"0\");\n}function inputsValid() {\n  var a = hoursInput.validity.valid && minutesInput.validity.valid && secondsInput.validity.valid;if (!a) {\n    formElement.reportValidity();\n  }return a;\n}function freezeInputs() {\n  hoursInput.setAttribute(\"readonly\", \"\");minutesInput.setAttribute(\"readonly\", \"\");secondsInput.setAttribute(\"readonly\", \"\");\n}function unfreezeInputs() {\n  hoursInput.removeAttribute(\"readonly\");minutesInput.removeAttribute(\"readonly\");secondsInput.removeAttribute(\"readonly\");\n};\n//# sourceMappingURL=timer-gui.min.js.map\n//# sourceMappingURL=timer-gui.min.js.map\n//# sourceMappingURL=timer-gui.min.js.map"]}